"use strict";(self.webpackChunkexaminationApp=self.webpackChunkexaminationApp||[]).push([[15],{4852:function(e,t,n){var s=n(5294),a=n(3524),r=s.Z.create({baseURL:a.CT,headers:{"Content-Type":"application/json"}}),i=JSON.parse(localStorage.getItem("token"));r.interceptors.request.use((function(e){return i&&(e.headers.authorization=i),e.headers["Access-Control-Allow-Origin"]="*",e}),(function(e){return Promise.reject(e)})),r.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)})),t.Z=r},5015:function(e,t,n){n.r(t),n.d(t,{default:function(){return j}});var s=n(4165),a=n(5861),r=n(9439),i=n(1429),u=n(6106),o=n(914),d=n(7647),c=n(4554),l=n(5140),p=n(4424),m=n(2641),h=n(2791),x=n(7689),v=n(184),f=n(4852),Z=n(9434);var j=function(){i.Z.Countdown;var e=(0,x.s0)(),t=((0,Z.I0)(),(0,h.useState)()),n=(0,r.Z)(t,2),j=n[0],g=n[1],I=(0,h.useState)([]),w=(0,r.Z)(I,2),N=w[0],S=w[1],b=(0,h.useState)(!1),q=(0,r.Z)(b,2),y=q[0],k=q[1],C=(0,h.useState)(!1),T=(0,r.Z)(C,2),A=T[0],E=T[1],P=(0,h.useState)(),M=(0,r.Z)(P,2),O=M[0],_=M[1],D=(0,h.useState)(-1),F=(0,r.Z)(D,2),J=F[0],L=F[1],R=(0,x.TH)().state,z=(0,h.useState)(!1),B=(0,r.Z)(z,2),G=B[0],H=B[1],K=(0,h.useState)(new Map),Q=(0,r.Z)(K,2),U=Q[0],V=Q[1],X=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){var t,n,a,r,i,u,o,d,c;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.Z.get("/questionsForExam/"+R.studentId+"/"+R.examId);case 2:return t=e.sent,n=t.data,a={studentId:R.studentId,examId:R.examId},e.next=7,f.Z.put("/editStartTimestamp",a);case 7:for(r=e.sent,null!==n&&void 0!==n&&n.dbdaId&&""!=(null===n||void 0===n?void 0:n.dbdaId)&&H(!0),null!==n&&void 0!==n&&n.timer&&(null!=r.data.startTime?(i=Date.parse(r.data.startTime),u=(null===n||void 0===n?void 0:n.duration)-(Date.now()-i)/1e3,L(u>0?parseInt(u):0)):L(parseInt(null===n||void 0===n?void 0:n.duration))),o=[],d=new Map,c=0;c<(null===n||void 0===n?void 0:n.questions.length);c++)n.questions[c].optionSelected&&0!=n.questions[c].optionSelected?d.set(c+1,!0):d.set(c+1,!1),o.push(n.questions[c].optionSelected);V(d),_(null===n||void 0===n?void 0:n.answeredques),S(o),console.log("aagya daTA VBC"+JSON.stringify(n)),g(n),G||(null===n||void 0===n?void 0:n.answeredques)===(null===n||void 0===n?void 0:n.questions.length)?E(!0):E(!1);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,h.useEffect)((function(){0==J?k(!1):J>0?(setTimeout((function(){L(J-1)}),1e3),k(!0)):k(!0)}),[J]),(0,h.useEffect)((function(){X()}),[]),(0,h.useEffect)((function(){G||O===(null===j||void 0===j?void 0:j.questions.length)?E(!0):E(!1)}),[O]);var Y=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t,n,a){var r,i,u;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={studentId:R.studentId,examId:R.examId,questionId:n,option:t.target.value},e.next=3,f.Z.post("/liveresponse",r);case 3:0==N[a]&&_(O+1),i=[],Object.assign(i,N),i[a]=t.target.value,S(i),(u=U).set(a+1,!0),V(u);case 11:case"end":return e.stop()}}),e)})));return function(t,n,s){return e.apply(this,arguments)}}(),W=function(){var t=(0,a.Z)((0,s.Z)().mark((function t(){var n,a;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={studentId:R.studentId,examId:R.examId},t.next=3,f.Z.post("/submitExam",n);case 3:return t.next=5,f.Z.get("/students/"+R.studentId);case 5:a=t.sent,e("/student/exam/preview",{state:null===a||void 0===a?void 0:a.data});case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)(u.Z,{gutter:16,className:"h-100",children:[(0,v.jsx)(o.Z,{md:16,className:"p-3",children:(0,v.jsxs)(d.Z,{className:"h-100",children:[(0,v.jsx)("h3",{className:"font-weight-bold text-center",children:"Questions"}),(0,v.jsx)("hr",{}),(0,v.jsx)(c.Z,{content:"MYNDKARE EXAMS",children:j&&(null===j||void 0===j?void 0:j.questions.map((function(e,t){return(0,v.jsxs)(l.Z.Item,{children:[e.images&&e.images.length>0?(0,v.jsxs)("div",{children:[(0,v.jsxs)("p",{className:"pt-4 px-4",children:[t+1,"."]}),(0,v.jsx)("p",{className:"pt-4 px-4",children:e.images.map((function(e,t){return(0,v.jsx)("img",{src:e,alt:""})}))}),(0,v.jsx)("p",{className:"pt-4 px-4",children:e.name})]}):(0,v.jsxs)("p",{className:"pt-4 px-4",children:[t+1,". ",e.name]}),(0,v.jsx)(p.ZP.Group,{name:"radiogroup",className:"p-2 px-5",onChange:function(n){return Y(n,e._id,t)},value:N[t],children:e.options.map((function(e,t){return(0,v.jsx)(p.ZP,{value:t+1,name:"radio1",className:"my-3",disabled:!y,children:(0,v.jsx)("div",{value:t+1,className:"p-2 px-5",children:(0,v.jsx)("p",{children:t+1+". "+e},e)})},e)}))}),(0,v.jsx)("hr",{})]},e._id)})))})]})}),(0,v.jsx)(o.Z,{md:8,className:"p-3",children:(0,v.jsxs)(d.Z,{className:"h-100",children:[(0,v.jsxs)(u.Z,{gutter:24,className:"h-100",children:[(0,v.jsxs)(o.Z,{md:24,children:[(0,v.jsx)("h3",{className:"font-weight-bold",children:null===j||void 0===j?void 0:j.name}),(0,v.jsx)("hr",{})]}),(0,v.jsx)(o.Z,{md:24,children:J>=0&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("h4",{className:"font-weight-bold",children:["Time Left : ",(0,v.jsx)("span",{style:{color:"red"},children:J})," Seconds"]}),(0,v.jsx)("hr",{})]})}),(0,v.jsx)(o.Z,{md:24,children:(0,v.jsx)("h5",{className:"font-weight-bold",children:"Answer Status"})}),j&&(null===j||void 0===j?void 0:j.questions.map((function(e,t){return(0,v.jsx)(o.Z,{md:3,className:"p-2",children:(0,v.jsx)(m.ZP,{shape:"circle",value:t+1,onClick:function(e){e.target.value},style:U.has(t+1)&&1==U.get(t+1)&&{backgroundColor:"green",color:"white"},children:t+1})},e._id)})))]}),(0,v.jsx)("div",{className:"submit_btn",children:(0,v.jsx)(m.ZP,{type:"primary",htmlType:"submit",onClick:function(){return W()},disabled:!A,children:"Submit"})})]})})]})})}}}]);
//# sourceMappingURL=15.67dcf4df.chunk.js.map